---
title : "RevealJS, le futur des pr√©sentations"
date : Feb 07 2024
tags :
    - Outils
    - Framework
description : "RevealJS, le futur des pr√©sentations"
banner : "/images/teemu-paananen-bzdhc5b3Bxs-unsplash.webp"
readingtime : "5 min"
author : "Teemu Paananen"
authorlink : "https://unsplash.com/fr/@xteemu?utm_content=creditCopyText&utm_medium=referral&utm_source=unsplash"
unsplashlink : "https://unsplash.com/fr/photos/personne-discutant-debout-devant-un-grand-ecran-devant-des-personnes-a-linterieur-dune-piece-faiblement-eclairee-bzdhc5b3Bxs?utm_content=creditCopyText&utm_medium=referral&utm_source=unsplash"
isArticle : true
---

import Picture from "@components/Picture.astro";
import Video from "@components/Video.astro";

import revealjsarborescence from "../../assets/images/revealjs-arborescence.png";

Mon parcours m'a amen√© √† r√©aliser de nombreuses pr√©sentations, bien souvent r√©alis√©es avec le sacro-saint PowerPoint, parfois m√™me avec son cousin de la suite OpenOffice, Impress.
M√™me si ces applications sont ergonomiques, elles ont les d√©fauts de leurs qualit√©s : elles rec√®lent bien trop de fonctionnalit√©s au regard de ce pour quoi on les utilise.
Un outil de plus, de nouveaux rep√®res √† prendre, et pour un peu qu'on se retrouve sur un autre ordinateur, potentiellement une autre application √† d√©couvrir et dompter pour cr√©er des pr√©sentations.

Simplifions-nous la t√¢che. Tentons de cr√©er des pr√©sentations √† l'image de notre code, avec du code. Cette promesse, c'est celle de **Reveal.js**, une biblioth√®que JavaScript open-source.

D√©couvrons tout de suite comment d√©buter avec Reveal.js !

## Pr√©-requis

Comme fr√©quemment dans mes articles (qui para√Ætront dans un futur proche) nous allons avoir besoin d'un √©diteur de code et d'installer NodeJS pour faire fonctionner Reveal.js.

Avant de vous initier √† Astro, vous allez avoir besoin d'installer **NodeJS** (si ce n'est pas d√©j√† fait üòä). Si tel n'est pas le cas, vous pouvez vous rendre [ici](https://nodejs.org/en/download/current) pour t√©l√©charger l'installateur qui correspond √† votre syst√®me d'exploitation.

Une fois les √©tapes d'installation de NodeJS pass√©es, dans un terminal (un nouveau, sinon √ßa ne fonctionnera pas), saisir `node -v` ou `node --version`.
Le terminal devrait afficher la version de NodeJS install√©e sur votre ordinateur (dans mon cas, v20.9.0).

Cette v√©rification faite, vous pouvez passer √† l'√©tape suivante.

## Installation

Dans un premier temps, clonez le projet reveal.js.

```bash
$ git clone https://github.com/hakimel/reveal.js.git
```

Rendez-vous dans le dossier reveal.js et installez les d√©pendances. Le processus peut √™tre long selon la qualit√© de votre connexion internet.

```bash
$ cd reveal.js && npm install
```

Si vous avez des erreurs dans votre terminal √† cette √©tape, la l√©gende dit qu'il faut faire 3 npm i pour que √ßa fonctionne !

Lancez le projet gr√¢ce √† la commande suivante :

```bash
$ npm start
```
Ouvrez votre navigateur √† l'adresse **http://localhost:8000**.

<Video path="/src/assets/images/revealjs-first-slides.webm" />

Votre pr√©sentation est pr√™te !

## D√©buter avec reveal.js

Bon d'accord, ce n'est pas tout √† fait **votre** pr√©sentation, il n'y a que deux slides etc. Mais, vous avez la base d'une pr√©sentation. Il est temps de regarder de plus pr√®s le contenu de notre projet.

<Picture image={revealjsarborescence} caption="Arborescence d'un projet revealjs" />

Le projet que nous avons clon√© contient quelques fichiers de configuration, notamment les package.json et package-lock.json.
On remarque un fichier que je rencontre pour la premi√®re fois, le fichier gulpfile.js. Ce fichier d√©finit les actions √† mener lors de certaines op√©rations dans le projet, compilation, minification, formatage du code etc.

Les fichiers .gitignore et .npmignore ont pour r√¥le d'exclure certains fichiers, certains dossiers lors de certaines op√©rations :

- .gitignore : √©l√©ments non ajout√©s aux commits d'un projet.
- .npmignore : √©l√©ments ignor√©s lors de la publication d'un package npm.

On trouve √©galement √† la racine du projet un fichier index.html, qui est la page qui s'affiche au d√©marrage du projet.

Se trouvent √©galement ici les dossiers suivant :

- css : contient les fichiers de style du projet.
- dist : contient l'ensemble des ressources n√©cessaires √† l'ex√©cution d'une pr√©sentation.
- examples : contient un ensemble de fichiers pr√©sentant les diff√©rentes fonctionnalit√©s de reveal.js.
- js : contient le code de reveal.js, tout ce qui lui permet de s'ex√©cuter.
- plugins : contient les ressources n√©cessaires √† des fonctionnalit√©s ajout√©es pour am√©liorer l'exp√©rience utilisateur sur reveal.js, notamment la gestion du Markdown, du zoom, des notes pour le pr√©sentateur etc.

C'est bien beau de savoir ce qu'il y a dans mon projet, mais elle n'avance pas cette pr√©sentation !

## Vos premi√®res diapos

Maintenant que vous avez ouvert votre navigateur web √† l'adresse localhost:8000, vous voyez votre pr√©sentation. Regardez maintenant le fichier index.html de votre projet. Surprise, vous retrouvez le contenu de tous les slides dans le fichier.

Eh oui, tout est l√† ! La structure de base d'une pr√©sentation reveal.js est la suivante :

```html
<div class="reveal">
    <div class="slides">
        <section>Slide n¬∞1</section>
        <section>Slide n¬∞2</section>
    </div>
</div>
```

Particularit√© des pr√©sentations reveal.js, les diapositives se succ√®dent √† l'horizontale. Mais revealjs se d√©ploie en r√©alit√© en 2 dimensions, gr√¢ce √† l'imbrication de sections.

Imbriquer plusieurs sections dans une autre section permet de cr√©er des slides verticales.

```html
<div class="reveal">
    <div class="slides">
        <section>
            <section>
                Slide horizontale 1
            </section>
            <section>
                Slide verticale 1
            </section>    
        </section>
        <section>
            <section>
                Slide horizontale 2
            </section>
            <section>
                Slide verticale 2
            </section> 
        </section>
    </div>
</div>
```

<Video path="/src/assets/images/revealjs-vertical-slides.webm" />

Pas de panique, pas besoin de m√©moriser l'emplacement des diapositives verticales, reveal.js affiche le sens dans lequel on peut avancer dans la pr√©sentation. Si les fl√®ches en bas de page pr√©sentent une fl√®che vers le bas, vous avez des diapositives verticales, sinon vous n'en avez pas.

Le squelette de votre pr√©sentation est bien l√†, il faut maintenant lui donner des couleurs, du relief.

## Une pr√©sentation vivante

### L'arri√®re-plan

Un arri√®re-plan noir, ce n'est pas forc√©ment adapt√© au contexte d'une pr√©sentation. On peut ajouter un arri√®re-plan plus adapt√© en utilisant l'un des attributs **data-background-** de reveal.js.

Les options sont les suivantes :

- data-background-color : couleur unie
- data-background-gradient : gradient de couleur
- data-background-image : image d'arri√®re-plan

```html
<div class="reveal">
    <div class="slides">
        <section>
            <section data-background-color="aquamarine">
                Arri√®re-plan uni
            </section>
            <section data-background-gradient="linear-gradient(to bottom, #283b95, #17b2c3)">
                Arri√®re-plan d√©grad√©
            </section>
            <section data-background-image="http://example.com/image.jpg">
                Image d'arri√®re-plan
            </section>
            <section>
                
            </section> 
        </section>
    </div>
</div>
```

<Video path="/src/assets/images/revealjs-background.webm" />

Vous pouvez utiliser le nom des couleurs, leur code hexad√©cimal, leur d√©finition RGB, bref, tout ce qu'on peut utiliser en CSS pour d√©finir une couleur.
Par d√©faut, les images sont redimensionn√©es pour couvrir la totalit√© de la page.

### Les animations

Le contenu d'une diapositive peut √™tre long, et n√©cessiter d'afficher son contenu progressivement et non d'un coup. C'est exactement √† cette probl√©matique que r√©pondent les fragments.
Les animations sont ex√©cut√©es lorsqu'on avance dans la pr√©sentation.

Contrairement √† la gestion de l'arri√®re-plan qui se fait gr√¢ce √† des attributs, les animations sont g√©r√©es avec des classes ajout√©es aux √©l√©ments.
On peut animer les √©l√©ments de diverses mani√®res :

- fade-in : au clic l'√©l√©ment appara√Æt.
- fade-out : au clic l'√©l√©ment dispara√Æt.
- highlight-current-red : au clic l'√©l√©ment devient rouge, au clic suivant il reprend sa couleur d'origine.
- fade-up : l'√©l√©ment se d√©place vers le haut en apparaissant

```html
<div class="reveal">
    <div class="slides">
        <section>
            <p class="fragment">Fade in</p>
            <p class="fragment fade-out">Fade out</p>
            <p class="fragment highlight-red">Highlight red</p>
            <p class="fragment fade-in-then-out">Fade in, then out</p>
            <p class="fragment fade-up">Slide up while fading in</p>
        </section>
    </div>
</div>
```

<Video path="/src/assets/images/revealjs-fragments.webm" />

Notre pr√©sentation est anim√©e, il faut maintenant am√©liorer la navigation au sein de celle-ci.

### Les liens

Il peut √™tre n√©cessaire d'ajouter des liens, vers le sommaire de notre pr√©sentation, vers la derni√®re diapositive selon le contexte dans lequel on se trouve.
Reveal.js comporte un syst√®me de liens et d'ancres pour r√©soudre ce probl√®me.

```html
<div class="reveal">
    <div class="slides">
        <section id="first-slide">
            <a href="#/last-slide">Aller sur la derni√®re diapositive</a>
        </section>
        <section>
            <h2>Slide 2</h2>
        </section>
        <section id="last-slide">
            <h2>The end</h2>
            <a href="#/first-slide">Revenir au d√©but</a>
        </section>
    </div>
</div>
```

<Video path="/src/assets/images/revealjs-links.webm" />

Il convient alors d'√©tablir un syst√®me d'identifiants uniques pour naviguer simplement dans la pr√©sentation.

Il est √©galement possible d'utiliser des liens num√©rot√©s, mais ce syst√®me semble moins souple que les liens avec identifiants.

### Il vous reste du temps ? C'est l'heure du bonus !

Selon le contexte dans lequel on se trouve (en interne, en externe par exemple), certains √©l√©ments peuvent ne pas √™tre pertinents. Ce n'est pas une raison pour cr√©er deux versions de la pr√©sentation, une "interne", l'autre "externe". Nous avons la possibilit√© de modifier la visibilit√© de nos diapositives, avec l'attribut **data-visibility**.

Si des informations doivent √™tre tues dans un contexte pr√©cis, vous pouvez masquer une diapositive. S'il s'agit d'un bonus au cas o√π il vous resterait du temps, vous pouvez exclure des diapositives du comptage de la pr√©sentation.

```html
<div class="reveal">
    <div class="slides">
        <section>Premi√®re diapositive</section>
        <section data-visibility="hidden">Diapositive masqu√©e</section>
        <section>Troisi√®me diapositive (la deuxi√®me est masqu√©e)</section>
        <section data-visibility="uncounted">Bonus 1</section>
				
    </div>
</div>
```

<Video path="/src/assets/images/revealjs-visibility.webm" />

### Le html n'est pas votre ami ? Ecrivez en Markdown !

Le Markdown permet d'√©crire de la documentation, des articles avec une syntaxe simple, prise en charge dans tous les navigateurs. Reveal.js le prend √©galement en charge.
Vous pouvez donc r√©diger votre pr√©sentation de la m√™me mani√®re que vos articles. Vos diapositives seront simplement d√©limit√©es par des triples tirets ---.

Il est indispensable d'imbriquer votre contenu Markdown dans la structure suivante pour qu'il soit pris en charge en tant que tel.

```html
<div class="reveal">
    <div class="slides">
        <section data-markdown>
        <textarea data-template>
            ## Diapositive 1
            ---
            ## Diapositive 2
            ---
            ## Diapositive 3
        </textarea>
        </section>
    </div>
</div>
```

<Video path="/src/assets/images/revealjs-markdown.webm" />

### Illustrez votre propos

Toute pr√©sentation qui se respecte a son lot d'images, ou de vid√©os. Comme pour tout le reste, Reveal.js utilise les balises html bien connues des d√©veloppeurs.

```html
<div class="reveal">
    <div class="slides">
        <section>
            <h2>Int√©grer une image</h2>
            <img data-src="https://source.unsplash.com/random">
        </section>
        <section>
            <h2>Int√©grer une vid√©o</h2>
            <video data-autoplay src="./powertoys-apercu.webm"></video>
        </section>
        <section>
            <h2>Int√©grer une iframe</h2>
            <iframe data-src="https://ludovicdean.github.io/devendevenir/"></iframe>
        </section>
    </div>
</div>
```

N'oubliez pas de modifier la source de la balise vid√©o, sans quoi votre code ne fonctionnera pas.

<Video path="/src/assets/images/revealjs-media.webm" />

En tant que d√©veloppeurs, nous pouvons √™tre amen√©s √† pr√©senter des extraits de code. Revealjs poss√®de cette fonctionnalit√© et permet de mettre en valeur √† volont√© notre code.

### Pr√©senter du code

Pr√©senter un extrait de code peut √™tre laborieux lorsqu'on ne dispose que de captures d'√©cran. Reveal.js permet de pr√©senter le code en toute simplicit√©, ainsi que de mettre en √©vidence facilement les extraits les plus significatifs.
Un extrait de code doit √™tre int√©gr√© dans des balises pre et code imbriqu√©es `<pre><code></code></pre>`.

On peut mettre en √©vidence les lignes les plus int√©ressantes de deux mani√®res :

- data-line-numbers="1,2-4" : d'un bloc, √† l'ouverture de la diapositive
- data-line-numbers="1|2-4" : √©l√©ment par √©l√©ment, au clic

```html
<div class="reveal">
    <div class="slides">
        <section>
            <pre><code data-trim data-line-numbers="1,3,5">
                <a href={`/blog/${post.slug}/`}>
                    <img width={720} height={360} src={post.data.banner} alt="" />
                    <h4 class="title">{post.data.title}</h4>
                    <p class="date">
                        <FormattedDate date={post.data.date} />
                    </p>
                </a>
            </code></pre>
        </section>
        <section>
            <h2>Code mis en √©vidence au clic</h2>
            <pre><code data-trim data-line-numbers="1|3|5">
                <a href={`/blog/${post.slug}/`}>
                    <img width={720} height={360} src={post.data.banner} alt="" />
                    <h4 class="title">{post.data.title}</h4>
                    <p class="date">
                        <FormattedDate date={post.data.date} />
                    </p>
                </a>
            </code></pre>
        </section>
    </div>
</div>
```

<Video path="/src/assets/images/revealjs-code.webm" />

Avant de terminer cette pr√©sentation de Revealjs, il ne reste plus qu'un point √† aborder, la num√©rotation des diapositives.

### Num√©roter vos diapositives

Afin de permettre √† vos spectateurs de mieux suivre le d√©roulement de votre pr√©sentation vous avez tout int√©r√™t √† num√©roter vos pages. Ceci est g√©r√© gr√¢ce √† une option de configuration de Revealjs :

```html
<div class="reveal">
    <div class="slides">
        <section>
            <section>
                Slide horizontale 1
            </section>
            <section>
                Slide verticale 1
            </section>    
        </section>
        <section>
            <section>
                Slide horizontale 2
            </section>
            <section>
                Slide verticale 2
            </section> 
        </section>
    </div>
</div>
<script>
    Reveal.initialize({
        slideNumber: 'h/v',
    });
		</script>
```

La num√©rotation des diapositives peut √™tre affich√© de plusieurs mani√®res :

- h.v : n¬∞ de diapositive horizontale.n¬∞ de diapositive verticale (5.3).
- h/v : n¬∞ de diapositive horizontale/n¬∞ de diapositive verticale (5/3).
- c : n¬∞ de diapositive horizontale ou verticale (5).
- c/t : n¬∞ de diapositive (horizontale ou verticale)/ nombre total de diapositives (5/30).

## Conclusion

Vous √™tes maintenant pr√™ts √† cr√©er des pr√©sentations √† la mani√®re dont vous codez, avec votre √©diteur de code pr√©f√©r√©. La documentation de Revealjs (https://revealjs.com/) est tr√®s d√©taill√©e et vous permettra d'aller plus loin, notamment du c√¥t√© de la configuration que nous avons effleur√© dans le dernier point de cet article.